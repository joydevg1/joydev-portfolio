<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Semantic Resume AI</title>
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@4.17.0/dist/tf.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/universal-sentence-encoder@1.3.3/dist/universal-sentence-encoder.min.js"></script>
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Arial', sans-serif;
    }
    body {
      background-color: #f4f7fa;
      color: #333;
      line-height: 1.6;
    }
    header {
      background-color: #003366;
      color: white;
      text-align: center;
      padding: 2rem;
    }
    header img {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      border: 4px solid #00ff00;
      margin-top: 10px;
    }
    nav {
      background-color: #004d99;
      padding: 1rem;
      text-align: center;
    }
    nav a {
      color: white;
      text-decoration: none;
      margin: 0 15px;
      font-weight: bold;
    }
    nav a:hover {
      color: #00ff00;
    }
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 20px;
    }
    .section {
      background-color: white;
      margin: 20px 0;
      padding: 20px;
      border-left: 5px solid #00ff00;
      box-shadow: 0 2px 5px rgba(0,0,0,0.1);
    }
    .section h2 {
      color: #003366;
      margin-bottom: 10px;
    }
    .section ul {
      list-style-type: disc;
      margin-left: 20px;
    }
    .section ul li {
      margin: 5px 0;
    }
    .skills {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }
    .skill {
      background-color: #e0f0ff;
      padding: 5px 10px;
      border-radius: 15px;
      font-weight: bold;
    }
    .ai-chat {
      margin: 20px 0;
    }
    .ai-chat input {
      width: 70%;
      padding: 10px;
      margin-right: 10px;
    }
    .ai-chat button {
      padding: 10px 20px;
      background-color: #004d99;
      color: white;
      border: none;
      cursor: pointer;
    }
    .ai-chat button:hover {
      background-color: #003366;
    }
    .ai-response {
      margin-top: 10px;
      padding: 10px;
      background-color: #f0f0f0;
      border-radius: 5px;
      display: none;
    }
    .contact {
      text-align: center;
      padding: 20px;
      background-color: #004d99;
      color: white;
    }
    .contact a {
      color: #00ff00;
      text-decoration: none;
      margin: 0 10px;
    }
    @media (max-width: 768px) {
      .container {
        padding: 10px;
      }
      .section {
        margin: 10px 0;
        padding: 10px;
      }
      .ai-chat input {
        width: 60%;
      }
    }
  </style>
</head>
<body>

<header>
  <h1>Joydev Ghosh</h1>
  <p><strong>AI Research Professional</strong> | Kolkata, India</p>
  <img src="My_Photo.jpg" alt="Joydev Ghosh" onerror="this.style.display='none';" />
  <p>Last Updated: July 11, 2025, 11:42 PM IST</p>
</header>

<nav>
  <a href="#overview">Overview</a>
  <a href="#projects">Projects</a>
  <a href="#experience">Experience</a>
  <a href="#education">Education</a>
  <a href="#skills">Skills</a>
  <a href="#achievements">Achievements</a>
  <a href="#contact">Contact</a>
</nav>

<div class="container">
  <section id="overview" class="section">
    <h2>Professional Overview</h2>
    <p>
      A seasoned AI research professional with over 4 years of experience in <strong>Machine Learning</strong>, <strong>Deep Learning</strong>, and <strong>Computer Vision</strong>. Skilled in <strong>PyTorch</strong>, <strong>Keras</strong>, and <strong>TensorFlow</strong>, I specialize in crafting <strong>AI-driven solutions</strong> for business and geopolitical challenges. Passionate about advancing <strong>GenAI</strong>, <strong>NLP</strong>, and <strong>Cloud Computing</strong> to deliver innovative results.
    </p>
  </section>

  <section id="projects" class="section">
    <h2>Key Projects</h2>
    <ul>
      <li><strong>Big Data Analytics Software for COMINT</strong> – Deployed <strong>PyTorch</strong>/<strong>Keras</strong> deep learning models for image classification, boosting efficiency by 30%.</li>
      <li><strong>ANPR and Vehicle Classification</strong> – Built <strong>YOLO/OpenCV</strong>-based system for traffic analysis with 95% accuracy.</li>
      <li><strong>iFarmer-App</strong> – Developed an AI model in <strong>TensorFlow</strong> for plant disease detection, improving yield by 20%.</li>
    </ul>
  </section>

  <section id="experience" class="section">
    <h2>Professional Experience</h2>
    <p><strong>Member (Research Staff)</strong> – Bharat Electronics Limited, Bangalore, India | Sept 2018 – Mar 2023</p>
    <ul>
      <li>Led a team of 3 to deliver AI-driven projects including COMINT and ANPR systems.</li>
      <li>Managed <strong>GPU server</strong> infrastructure for AI/ML workloads.</li>
      <li>Conducted internal training on <strong>Deep Learning</strong> and <strong>NLP</strong>.</li>
    </ul>
  </section>

  <section id="education" class="section">
    <h2>Education</h2>
    <ul>
      <li><strong>M.Tech in Computer Science, CGPA: 8.5</strong> – MNNIT Allahabad (2016–2018)</li>
      <li><strong>B.E. in CSE, CGPA: 80.8%</strong> – UIT, Burdwan University (2011–2015)</li>
      <li><strong>Class XII, CGPA: 85.66%</strong> – D.A.V. Public School, Dhanbad (2009–2011)</li>
      <li><strong>Class X, CGPA: 88.83%</strong> – D.A.V. Public School, Dhanbad (2009)</li>
    </ul>
  </section>

  <section id="skills" class="section">
    <h2>Technical Skills</h2>
    <div class="skills">
      <span class="skill">Python</span>
      <span class="skill">TensorFlow</span>
      <span class="skill">PyTorch</span>
      <span class="skill">Keras</span>
      <span class="skill">OpenCV</span>
      <span class="skill">Machine Learning</span>
      <span class="skill">Deep Learning</span>
      <span class="skill">Computer Vision</span>
      <span class="skill">GenAI</span>
      <span class="skill">NLP</span>
      <span class="skill">AWS</span>
      <span class="skill">Git</span>
    </div>
  </section>

  <section id="achievements" class="section">
    <h2>Achievements</h2>
    <ul>
      <li>Secured 722 (AIR: 938) in <strong>GATE 2025</strong></li>
      <li>Training & Placement Representative, MNNIT Allahabad (2018)</li>
      <li>Secured 713 (AIR: 632) in <strong>GATE 2016</strong></li>
    </ul>
  </section>

  <section class="section ai-chat">
    <h2>Ask Me Anything</h2>
    <input type="text" id="aiInput" placeholder="e.g., What is your experience?">
    <button onclick="getAIResponse()">Get Response</button>
    <div id="aiResponse" class="ai-response"></div>
  </section>

  <section id="contact" class="section contact">
    <h2>Contact Me</h2>
    <p>Email: <a href="mailto:ghoshjoydev123@gmail.com">ghoshjoydev123@gmail.com</a></p>
    <p>Phone: <a href="tel:+917549535543">+91 7549535543</a></p>
    <p>
      Connect: 
      <a href="https://linkedin.com/in/joydev-ghosh-48293396/">LinkedIn</a> | 
      <a href="https://github.com/joydevg1">GitHub</a> | 
      <a href="https://medium.com/@joydev123">Medium</a>
    </p>
  </section>
</div>

<script>
  let model;

  const loadModel = async () => {
    try {
      model = await use.load();
      console.log("✅ USE Model Loaded");
    } catch (error) {
      console.error("❌ Model Loading Failed:", error);
    }
  };
  loadModel();

  // Map section IDs to titles for better section matching
  const sectionMap = {
    overview: "Professional Overview",
    projects: "Key Projects",
    experience: "Professional Experience",
    education: "Education",
    skills: "Technical Skills",
    achievements: "Achievements"
  };

  // Get all content entries and their section context
  function collectResumeData() {
    const entries = [];
    Object.keys(sectionMap).forEach(sectionId => {
      const section = document.getElementById(sectionId);
      if (section) {
        // For overview, collect the paragraph directly
        if (sectionId === "overview") {
          const para = section.querySelector("p");
          if (para && para.innerText.trim()) {
            entries.push({
              text: para.innerText.trim(),
              section: sectionMap[sectionId],
              element: para
            });
          }
        }
        // For skills, collect individual skill tags
        else if (sectionId === "skills") {
          const skills = section.querySelectorAll(".skill");
          const skillText = Array.from(skills)
            .map(el => el.innerText.trim())
            .filter(text => text)
            .join(", ");
          if (skillText) {
            entries.push({
              text: skillText,
              section: sectionMap[sectionId],
              element: section.querySelector(".skills")
            });
          }
        }
        // For other sections, collect list items and paragraphs
        else {
          const elements = section.querySelectorAll("li, p");
          elements.forEach(el => {
            const text = el.innerText.trim();
            if (text) {
              entries.push({
                text,
                section: sectionMap[sectionId],
                element: el
              });
            }
          });
        }
      }
    });
    return entries;
  }

  async function getSemanticAnswer(query) {
    if (!model) {
      throw new Error("Model not loaded yet. Please try again later.");
    }

    const data = collectResumeData();
    const sectionTitles = Object.values(sectionMap);
    const sentences = [query, ...data.map(d => d.text), ...sectionTitles];

    const embeddings = await model.embed(sentences);
    const queryEmbedding = embeddings.slice([0, 0], [1]);
    const answerEmbeddings = embeddings.slice([1, 0], [data.length, -1]);
    const sectionEmbeddings = embeddings.slice([1 + data.length, 0], [sectionTitles.length, -1]);

    // Compute section scores to identify the most relevant section
    const sectionScores = await queryEmbedding.matMul(sectionEmbeddings, false, true).array();
    const sectionScoreList = sectionScores[0].map((val, idx) => ({
      score: val,
      section: sectionTitles[idx]
    }));
    sectionScoreList.sort((a, b) => b.score - a.score);

    // Compute answer scores
    const scores = await queryEmbedding.matMul(answerEmbeddings, false, true).array();
    const scoreList = scores[0].map((s, i) => ({
      score: s,
      text: data[i].text,
      section: data[i].section
    }));

    // Handle specific query types with keyword-based overrides
    const queryLower = query.toLowerCase().trim();

    // Map queries to specific sections explicitly
    const querySectionMap = {
      "about yourself": "Professional Overview",
      "tell me about": "Professional Overview",
      "education": "Education",
      "projects": "Key Projects",
      "experience": "Professional Experience",
      "skills": "Technical Skills",
      "achievements": "Achievements",
      "achievement": "Achievements",
      "gate 2016": "Achievements",
      "gate 2025": "Achievements"
    };

    let targetSection = null;
    for (const [keyword, section] of Object.entries(querySectionMap)) {
      if (queryLower.includes(keyword)) {
        targetSection = section;
        break;
      }
    }

    // If a target section is identified, prioritize its content
    if (targetSection) {
      // Special case for GATE queries
      if (queryLower.includes("gate 2016")) {
        const gate2016Entry = data.find(d => d.section === "Achievements" && d.text.includes("GATE 2016"));
        return gate2016Entry ? gate2016Entry.text : "Sorry, I couldn't find GATE 2016 details.";
      }
      if (queryLower.includes("gate 2025")) {
        const gate2025Entry = data.find(d => d.section === "Achievements" && d.text.includes("GATE 2025"));
        return gate2025Entry ? gate2025Entry.text : "Sorry, I couldn't find GATE 2025 details.";
      }

      // For overview or skills, return single entry
      if (targetSection === "Professional Overview" || targetSection === "Technical Skills") {
        const entry = data.find(d => d.section === targetSection);
        return entry ? entry.text : `Sorry, I couldn't find ${targetSection} details.`;
      }

      // For other sections, aggregate all items
      const sectionItems = data
        .filter(d => d.section === targetSection)
        .map(d => `- ${d.text}`)
        .join("\n");
      return sectionItems || `Sorry, I couldn't find ${targetSection} details.`;
    }

    // Fallback: Use semantic scoring with a high threshold
    const sectionThreshold = 0.8; // Very strict threshold
    const topSection = sectionScoreList[0].section;

    // Boost scores for items in the top section
    scoreList.forEach(item => {
      if (item.section === topSection && sectionScoreList[0].score > sectionThreshold) {
        item.score += 0.4; // Strong boost for relevant section
      }
    });

    // Sort by score
    scoreList.sort((a, b) => b.score - a.score);

    // Return aggregated content from the top section if score is high enough
    if (sectionScoreList[0].score > sectionThreshold) {
      const relevantItems = scoreList
        .filter(item => item.section === topSection)
        .map(item => `- ${item.text}`)
        .join("\n");
      return relevantItems || scoreList[0].text;
    }

    return scoreList[0]?.text || "Sorry, I couldn't find a good match.";
  }

  async function getAIResponse() {
    const input = document.getElementById("aiInput").value.trim();
    const responseBox = document.getElementById("aiResponse");

    if (!input) {
      responseBox.style.display = "block";
      responseBox.innerHTML = `<strong>AI:</strong> Please enter a valid question.`;
      return;
    }

    responseBox.style.display = "block";
    responseBox.innerHTML = `<em>Thinking...</em>`;

    try {
      const result = await getSemanticAnswer(input);
      responseBox.innerHTML = `<strong>AI:</strong> ${result.replace(/\n/g, "<br>")}`;
    } catch (error) {
      responseBox.innerHTML = `❌ Error: ${error.message}`;
    }
  }

  // Enable "Enter" key support
  document.getElementById("aiInput").addEventListener("keypress", function (e) {
    if (e.key === "Enter") getAIResponse();
  });
</script>
</body>
</html>
